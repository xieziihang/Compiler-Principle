## 修改

1. Absyn.fs 文件中增加新的表达式形式 ( `expr * expr * expr` )

![](https://s3.bmp.ovh/imgs/2022/06/02/2877aab5bb43681f.png)

2. CLex.fsl 文件中加入三目运算符相关内容 （`? ` 和 `:`）

![](https://s3.bmp.ovh/imgs/2022/06/02/5e555eeb2a9fab76.png)

3. CPar.fsy 中加入 COLON QUESTION

![](https://s3.bmp.ovh/imgs/2022/06/02/f5847745bcb9ce50.png)

4. 三目运算符——左结合

![](https://s3.bmp.ovh/imgs/2022/06/02/bd610fc36f6c9d3e.png)



5. CPar.fsy 文件中 添加非左值的情况

![](https://s3.bmp.ovh/imgs/2022/06/02/3af41a7f4cb63e43.png)

6. 在解释器 Interp.fs 中增加对三目运算符的处理

![](https://s3.bmp.ovh/imgs/2022/06/02/bf5c0ea720eb9cb2.png)

## 测试代码

```c
void main() {
  int i;
  i = 1;
  i == 2? i = 5: i = 2;
  print i;
}
```

## 运行结果

执行测试代码结果：

![](https://s3.bmp.ovh/imgs/2022/06/02/c7bee939d3b41dcf.png)

### AST：

![](https://s3.bmp.ovh/imgs/2022/06/02/894819186e651643.png)
