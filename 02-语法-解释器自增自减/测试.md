## 修改

1. 修改 Absyn.fs 文件中的抽象语法，添加表达式

![](https://s3.bmp.ovh/imgs/2022/06/02/5c2e5f1e2f13a3d5.png)



2. 在 Clex.fsl 文件中修改词法

![](https://s3.bmp.ovh/imgs/2022/06/02/3d6a6be4545e3d87.png)



3. 在 CPar.fsy 中增加 

![](https://s3.bmp.ovh/imgs/2022/06/02/bad00831effad589.png) 

![](https://s3.bmp.ovh/imgs/2022/06/02/9b6aa1ec7621a076.png)



4. 增加 Cpar.fsy 中非左值的情况 (`x ++ `)

![](https://s3.bmp.ovh/imgs/2022/06/02/5eba0565d40b6856.png)



5. Interp.fs 中增加自增自减实现 （`x++`）

![](https://s3.bmp.ovh/imgs/2022/06/02/30addde1ebf5d7c3.png)



## 测试代码

```
// micro-C example 1
void main() {
  int i;
  i = 1;
  print i;
  println;
  // i++;
  i--;
  print i;
}
```



## 运行结果

**后缀自减：**

![](https://s3.bmp.ovh/imgs/2022/06/02/817c40cd346d1ee6.png)



**后缀自增：**

![](https://s3.bmp.ovh/imgs/2022/06/02/ef404650c48e3782.png)



### AST:

![](https://s3.bmp.ovh/imgs/2022/06/02/0f9ab0bcb069ddef.png)



![](https://s3.bmp.ovh/imgs/2022/06/02/03eda6684b4459fb.png)